<%-
  include("layout", {
    title,
    body: `
  ${Array.isArray(opened) && opened.length ? `
    <div class="card">
      <h2>Opened gates</h2>
      <ul class="opened">
        ${opened.map(p => {
          const href = "/view/" + String(p).split("/").map(encodeURIComponent).join("/");
          return `<li><a href="${href}">${p}</a></li>`;
        }).join("")}
      </ul>
    </div>
  ` : ""}

  <div class="card">
    <h2>Explore</h2>
    <ul class="children">
      ${
        Array.isArray(children)
          ? children.map(seg => {
              const href = "/gate/" + encodeURIComponent(seg);
              return `<li><a href="${href}">${seg}</a></li>`;
            }).join("")
          : ""
      }
    </ul>
  </div>

${wsEnabled ? `
  <script src="/ws/socket.io.js"></script>
  <script defer src="/ws.js"></script>` : ``}
`})
%>
